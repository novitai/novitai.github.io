(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{610:function(e,t){e.exports={attributes:{title:"Optimising the Fonts on My Website",date:"2020-04-10T00:00:00.000Z",description:"How I changed my font loading strategy and reduced the first stage fonts by over 100 kB",tags:[]},html:'<nav class="table-of-contents"><ol><li><a href="#before-optimising-the-fonts">Before Optimising the Fonts</a></li><li><a href="#font-loading-strategies">Font Loading Strategies</a><ol><li><a href="#flash-of-invisible-text">Flash of Invisible Text</a></li><li><a href="#flash-of-unstyled-text">Flash of Unstyled Text</a></li><li><a href="#flash-of-faux-text">Flash of Faux Text</a></li></ol></li><li><a href="#do-i-really-need-this-many-web-fonts%3F">Do I Really Need This Many Web Fonts?</a></li><li><a href="#implementing-a-foft-font-loading-strategy">Implementing a FOFT Font Loading Strategy</a><ol><li><a href="#picking-a-font">Picking a Font</a></li><li><a href="#subsetting-a-font">Subsetting a Font</a><ol></ol></li><li><a href="#preloading-the-first-stage-font">Preloading the First Stage Font</a></li><li><a href="#loading-the-second-stage-fonts-with-javascript">Loading the Second Stage Fonts with JavaScript</a></li></ol></li><li><a href="#after-optimising-the-fonts">After Optimising the Fonts</a></li></ol></nav><p>I’ll admit, I visit my own website a lot more than I reasonably should. One of my biggest peeves about my website was the time taken to load the display font — the titles would initially render in Georgia and after a few seconds there would be a layout shift when my chosen font, Tiempos Headline, finally loaded! I read an excellent article by Zach Leatherman, <a href="https://www.zachleat.com/web/css-tricks-web-fonts/">Developing a Robust Font Loading Strategy for CSS-Tricks</a>, which inspired me to change my font loading strategy and massively reduce initial load times.</p>\n<h2 id="before-optimising-the-fonts" tabindex="-1"><a class="header-anchor" href="#before-optimising-the-fonts">Before Optimising the Fonts</a></h2>\n<p>Before I decided to optimise the fonts on my website, I was loading four web fonts on the home page and up to <strong>seven</strong> web fonts on some other pages! These amounted to a staggering <strong>145kB</strong>:</p>\n<ul>\n<li>Tiempos Headline, 31.3kB</li>\n<li>Tiempos Headline Bold, 30.2kB</li>\n<li>IBM Plex Sans, 17.9kB</li>\n<li>IBM Plex Sans Bold, 18.7kB</li>\n<li>IBM Plex Sans Italic, 19.5kB</li>\n<li>IBM Plex Mono, 13.7kB</li>\n<li>IBM Plex Mono Bold, 14.1kB</li>\n</ul>\n<p>Opening up the Network panel in Chrome DevTools showed the time taken to download all four web fonts on the home page. I disabled cache and loaded the page on a throttled Slow 3G network. The waterfall graph below shows the times taken for the fonts to load, over a period of 10 seconds:</p>\n<p><lazy-image src="/assets/images/dynamic/optimising-fonts/waterfall1.png" alt="Waterfall graph showing four fonts loading after 8 seconds"></lazy-image></p>\n<p>The fonts were all requested just after 2 seconds, and the last font finished loading more than 6 seconds later. Because of the time taken to load the fonts, the page is initially rendered with fallback fonts, which then causes a layout shift when the web fonts finally load.</p>\n<p><video-compat src="optimising-fonts/loading1" autoplay="" muted="" loop=""></video-compat></p>\n<h2 id="font-loading-strategies" tabindex="-1"><a class="header-anchor" href="#font-loading-strategies">Font Loading Strategies</a></h2>\n<p>Before we go any further, it’s about time we talked about font loading strategies. Font loading strategies dictate when the fonts on your page load, how the fonts load, and what happens whilst the fonts are loading; I find the best way to group font loading strategies is by describing how the font appears <strong>before</strong> the font loads.</p>\n<h3 id="flash-of-invisible-text" tabindex="-1"><a class="header-anchor" href="#flash-of-invisible-text">Flash of Invisible Text</a></h3>\n<p>FOIT is the default browser behaviour which renders the text invisible whilst the font is loading. The text will be invisible during the <em>swap period</em>, up to 3 seconds depending on the browser: this is a particularly poor experience for users as there may be up to 3 seconds when they cannot read the content of your website!</p>\n<h3 id="flash-of-unstyled-text" tabindex="-1"><a class="header-anchor" href="#flash-of-unstyled-text">Flash of Unstyled Text</a></h3>\n<p>A FOUT occurs when the browser renders the fallback system font while the web font is loading. By default, the fallback font will render after the 3 second swap period, or if the web font fails to load. FOUT is preferable to FOIT, as users can still read the content whilst the web font is loading; however, care must be taken to minimise the layout shift when the web font does load.</p>\n<h3 id="flash-of-faux-text" tabindex="-1"><a class="header-anchor" href="#flash-of-faux-text">Flash of Faux Text</a></h3>\n<p>FOFT is very similar to FOUT, in that you render text as soon as possible without waiting for the web font to load. However, instead of the browser rendering a fallback system font, the browser renders a “Roman” web font. A “Roman” web font is a subset of the full web font, which often supports exclusively Western European languages and a reduced set of features. The browser uses <em>font synthesis</em> to render “faux bold” and “faux italic” text while the full web font continues to load.</p>\n<p>Zach Leatherman really is the authority on everything web fonts — I encourage you to read his <a href="https://www.zachleat.com/web/webfont-glossary/">Web Font Loading Glossary</a> and <a href="https://www.zachleat.com/web/comprehensive-webfonts/">Guide to Font Loading Strategies</a> for all the different ways of loading fonts!</p>\n<h2 id="do-i-really-need-this-many-web-fonts%3F" tabindex="-1"><a class="header-anchor" href="#do-i-really-need-this-many-web-fonts%3F">Do I Really Need This Many Web Fonts?</a></h2>\n<p>Retrospectively, it seems crazy to load seven web fonts on a single page of my website. I encourage you to ask yourself, “Why am I actually using this web font?” — I couldn’t come up with any explanation aside from the fact that I like fonts! I wasn’t relying on any special ligatures for my code blocks, nor features like tabular numbers.</p>\n<p>Instead of browsing Google Fonts for new fonts on my website, I decided instead to take a look at the system fonts already on my device. Obviously the fonts available on each device vary, so here are some great resources I used:</p>\n<ul>\n<li><a href="https://www.cssfontstack.com/">CSS Font Stack</a> shows the percentage of Windows and Mac devices which support some common fallback system fonts.</li>\n<li><a href="https://css-tricks.com/snippets/css/system-font-stack/">System Font Stack article</a> on CSS-Tricks which has some good snippets for body font.</li>\n<li><a href="https://www.smashingmagazine.com/2015/11/using-system-ui-fonts-practical-guide/">Using UI System Fonts</a> a longer article on Smashing which explains which fonts target which systems.</li>\n</ul>\n<p>In a surprise move, I decided to use system fonts for <strong>both</strong> the body font and monospace font on my website. Here’s the fonts I chose to use:</p>\n<pre class="highlight" data-language="css"><code><span class="highlight__lines"><span data-number=" 1"></span><span data-number=" 2"></span><span data-number=" 3"></span><span data-number=" 4"></span><span data-number=" 5"></span><span data-number=" 6"></span><span data-number=" 7"></span><span data-number=" 8"></span></span><span class="highlight__code"><span class="highlight__selector-tag">body</span> {\n  <span class="highlight__attribute">font-family</span>: -apple-system, BlinkMacSystemFont, <span class="highlight__string">\'Segoe UI\'</span>, Roboto, Helvetica,\n    Arial, sans-serif;\n}\n\n<span class="highlight__selector-tag">code</span> {\n  <span class="highlight__attribute">font-family</span>: Monaco, Consolas, <span class="highlight__string">\'Lucida Console\'</span>, monospace;\n}\n</span></code></pre>\n<h2 id="implementing-a-foft-font-loading-strategy" tabindex="-1"><a class="header-anchor" href="#implementing-a-foft-font-loading-strategy">Implementing a FOFT Font Loading Strategy</a></h2>\n<p>I decided to implement the <em>flash of faux text</em> font loading strategy for the display font on my website, used for headings and buttons. I broke this down into four stages:</p>\n<ol>\n<li>Picking a font to use</li>\n<li>Subsetting the font into two stages</li>\n<li>Preloading the first stage font</li>\n<li>Loading the second stage font as soon as possible</li>\n</ol>\n<h3 id="picking-a-font" tabindex="-1"><a class="header-anchor" href="#picking-a-font">Picking a Font</a></h3>\n<p>The number of fonts in <a href="https://fonts.google.com/">Google Fonts</a> is increasing every day and is becoming the go-to for all web fonts. I was really excited that <a href="https://rsms.me/inter/">Inter</a> had made its way to Google Fonts, where I expect it will make its way to being one of the most popular web fonts. But I wanted a fancy display font, something similar to Tiempos Headline which I was using previously.</p>\n<p>I settled on DM Serif Text by Colophon Foundry and Frank Grießhammer. There is also a higher contrast DM Serif Display, but I much preferred the thicker strokes of DM Serif Text on the relatively small headings on my website. Both fonts are licensed under the Open Font License, which importantly <strong>allows for modification</strong>.</p>\n<p><lazy-image src="/assets/images/dynamic/optimising-fonts/wakamaifondue.png" alt="Details of DM Serif Text after uploading the font to Wakamai Fondue"></lazy-image></p>\n<p>I’d like to quickly draw your attention to a fabulous tool I discovered, which answers the question, “What can my font do?” Possibly the best-named website ever, <a href="https://wakamaifondue.com/">Wakamai Fondue</a> provides a drag-and-drop interface for discovering what your font can do — I dropped DM Serif Text onto Wakamai Fondue to find out which features it supported and how many characters it contained. This wasn’t necessary but provided some nice context to the font sunsetting which was coming next!</p>\n<h3 id="subsetting-a-font" tabindex="-1"><a class="header-anchor" href="#subsetting-a-font">Subsetting a Font</a></h3>\n<p>First of all, download the font you want from Google Fonts (or wherever), all you need is the <code>.ttf</code> file. In order to subset the font, I used <code>pyftsubset</code> from <a href="https://github.com/fonttools/fonttools">fonttools</a>. It’s straightforward to install if you have <code>pip</code> already, simply run</p>\n<pre class="highlight" data-language="sh"><code><span class="highlight__lines"><span data-number=" 1"></span></span><span class="highlight__code">pip install fonttools\n</span></code></pre>\n<h4 id="first-stage-font" tabindex="-1"><a class="header-anchor" href="#first-stage-font">First Stage Font</a></h4>\n<p>You want your first stage font to be as small as possible, so the FOIT or FOUT before your font loads is unnoticeable; that means removing all the characters you don’t need as well as the extra features of the font.</p>\n<p>One decision you need to make is whether to remove the kerning from the font file. On one hand, removing the kerning will reduce the size of the font considerably. On the other hand, removing the kerning will cause a layout shift when the full font finally loads. I chose to remove the kerning from my first stage font, so I subsetted DM Serif Text using the following command:</p>\n<pre class="highlight" data-language="sh"><code><span class="highlight__lines"><span data-number=" 1"></span></span><span class="highlight__code">pyftsubset <span class="highlight__string">"DMSerifText-Regular.ttf"</span> --output-file=<span class="highlight__string">"DMSerifText-Regular-Roman.woff2"</span> --flavor=woff2 --layout-features=ccmp,locl,mark,mkmk --no-hinting --desubroutinize --unicodes=U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD\n</span></code></pre>\n<p>Notice we retain the required layout features <code>ccmp,locl,mark,mkmk</code> which we could see in Wakamai Fondue. If you wanted to include kerning in your first stage font, you’ll want to change the layout features to <code>ccmp,locl,mark,mkmk,kern</code>.</p>\n<p>The unicodes specify which characters we want to keep in our first stage font file. Google Fonts seems to use a sensible default for their “Latin” fonts, so I stuck with that. If you want to have more control over which unicodes you include, <a href="https://github.com/filamentgroup/glyphhanger">glyphhanger</a> seems like a great tool which can actually analyse your website to see which unicode ranges are used.</p>\n<p>Subsetting my new display font brought my first stage fonts down to <strong>only 12.0kB</strong> in size! That’s a reduction of a whopping <strong>133kB</strong> on some pages, compared to the seven web fonts I was previously loading.</p>\n<post-aside type="info">\n<p>Remember to generate your fonts in WOFF format as well as WOFF 2 for <a href="https://caniuse.com/#feat=woff">the best browser support</a>. Just specify <code>--flavor=woff</code> and make sure your <code>output-file</code> has a <code>.woff</code> extension.</p>\n</post-aside>\n<h4 id="second-stage-font" tabindex="-1"><a class="header-anchor" href="#second-stage-font">Second Stage Font</a></h4>\n<p>Your second stage font should include all the niceties that were omitted from your first stage font, like kerning, hinting and ligatures. Here’s the command I used to generate the second stage font for DM Serif Text:</p>\n<pre class="highlight" data-language="sh"><code><span class="highlight__lines"><span data-number=" 1"></span></span><span class="highlight__code">pyftsubset <span class="highlight__string">"DMSerifText-Regular.ttf"</span> --output-file=<span class="highlight__string">"DMSerifText-Regular-Latin-Ext.woff2"</span> --flavor=woff2 --layout-features=<span class="highlight__string">"*"</span> --unicodes=U+0-10FFFF\n</span></code></pre>\n<p>This second stage font includes all the available features and the full unicode range supported by the font.</p>\n<h3 id="preloading-the-first-stage-font" tabindex="-1"><a class="header-anchor" href="#preloading-the-first-stage-font">Preloading the First Stage Font</a></h3>\n<p>We need to load the first stage font as soon as possible in order to minimise the FOUT (or even worse, FOIT) which would usually occur when loading a web font. Using <code>preload</code>, now with <a href="https://caniuse.com/#feat=link-rel-preload">86.63% of browser support</a> at the time of writing, will ensure that the browser requests the resource as soon as it can.</p>\n<pre class="highlight" data-language="html"><code><span class="highlight__lines"><span data-number=" 1"></span><span data-number=" 2"></span><span data-number=" 3"></span><span data-number=" 4"></span><span data-number=" 5"></span><span data-number=" 6"></span><span data-number=" 7"></span></span><span class="highlight__code"><span class="highlight__tag">&lt;<span class="highlight__name">link</span>\n  <span class="highlight__attr">rel</span>=<span class="highlight__string">"preload"</span>\n  <span class="highlight__attr">href</span>=<span class="highlight__string">"DMSerifText-Regular-Latin.woff2"</span>\n  <span class="highlight__attr">as</span>=<span class="highlight__string">"font"</span>\n  <span class="highlight__attr">type</span>=<span class="highlight__string">"font/woff2"</span>\n  <span class="highlight__attr">crossorigin</span>\n/&gt;</span>\n</span></code></pre>\n<p>You can preload more than one first stage font if necessary, but keep in mind the more you choose to preload, the worse it will affect First Render times or FOUT which we are trying to avoid.</p>\n<p>After you’ve told the browser to preload the font, you can just use a normal <code>@font-face</code> rule in your CSS. Put this inline in your <code>&lt;head&gt;</code> to make sure that your font is used as soon as it has been preloaded!</p>\n<pre class="highlight" data-language="css"><code><span class="highlight__lines"><span data-number=" 1"></span><span data-number=" 2"></span><span data-number=" 3"></span><span data-number=" 4"></span><span data-number=" 5"></span><span data-number=" 6"></span><span data-number=" 7"></span><span data-number=" 8"></span></span><span class="highlight__code"><span class="highlight__keyword">@font-face</span> {\n  <span class="highlight__attribute">font-display</span>: swap;\n  <span class="highlight__attribute">font-family</span>: <span class="highlight__string">\'DM Serif Text\'</span>;\n  <span class="highlight__attribute">font-weight</span>: <span class="highlight__number">400</span>;\n  <span class="highlight__attribute">src</span>: <span class="highlight__built_in">local</span>(<span class="highlight__string">\'DM Serif Text Regular\'</span>), <span class="highlight__built_in">local</span>(<span class="highlight__string">\'DMSerifText-Regular\'</span>),\n    <span class="highlight__built_in">url</span>(<span class="highlight__string">\'DMSerifText-Regular-Latin.woff2\'</span>) <span class="highlight__built_in">format</span>(<span class="highlight__string">\'woff2\'</span>), <span class="highlight__built_in">url</span>(<span class="highlight__string">\'DMSerifText-Regular-Latin.woff\'</span>)\n      <span class="highlight__built_in">format</span>(<span class="highlight__string">\'woff\'</span>);\n}\n</span></code></pre>\n<h3 id="loading-the-second-stage-fonts-with-javascript" tabindex="-1"><a class="header-anchor" href="#loading-the-second-stage-fonts-with-javascript">Loading the Second Stage Fonts with JavaScript</a></h3>\n<p>We want to load the second stage fonts as soon as possible with JavaScript to minimise the delay before the layout shift will occur. I put this JavaScript in the <code>&lt;head&gt;</code> of my page:</p>\n<pre class="highlight" data-language="js"><code><span class="highlight__lines"><span data-number=" 1"></span><span data-number=" 2"></span><span data-number=" 3"></span><span data-number=" 4"></span><span data-number=" 5"></span><span data-number=" 6"></span><span data-number=" 7"></span><span data-number=" 8"></span><span data-number=" 9"></span><span data-number="10"></span></span><span class="highlight__code"><span class="highlight__keyword">if</span> (<span class="highlight__string">\'fonts\'</span> <span class="highlight__keyword">in</span> <span class="highlight__variable language_">document</span>) {\n  <span class="highlight__keyword">const</span> font = <span class="highlight__keyword">new</span> <span class="highlight__title class_">FontFace</span>(\n    <span class="highlight__string">\'DM Serif Text\'</span>,\n    <span class="highlight__string">"url(\'DMSerifText-Regular-Latin-Ext.woff2\') format(\'woff2\'), url(\'DMSerifText-Regular-Latin-Ext.woff\') format(\'woff\')"</span>\n  )\n\n  font.<span class="highlight__title function_">load</span>().<span class="highlight__title function_">then</span>(<span class="highlight__keyword">function</span> (<span class="highlight__params">font</span>) {\n    <span class="highlight__variable language_">document</span>.<span class="highlight__property">fonts</span>.<span class="highlight__title function_">add</span>(font)\n  })\n}\n</span></code></pre>\n<p>Browser support for the <a href="https://caniuse.com/#feat=font-loading">CSS Font Loading API</a> is pretty good but notably doesn’t include Internet Explorer — however, it’s worth noting that our first stage font will still load in Internet Explorer, it will just be missing extras like kerning. If you do want to support Internet Explorer completely, you can just dump the second stage <code>@font-face</code> declarations into the document head, Zach explains how to do this <a href="https://www.zachleat.com/web/css-tricks-web-fonts/">in his article</a>.</p>\n<h2 id="after-optimising-the-fonts" tabindex="-1"><a class="header-anchor" href="#after-optimising-the-fonts">After Optimising the Fonts</a></h2>\n<p>Changing the font loading strategy on my website <strong>massively</strong> reduced the time for the fonts to load and improved first render times, as I was loading fewer resources. Here’s the waterfall graph we saw earlier, showing the time taken to load fonts <strong>before</strong> optimising:</p>\n<p><lazy-image src="/assets/images/dynamic/optimising-fonts/waterfall1.png" alt="Waterfall graph showing four fonts loading after 8 seconds"></lazy-image></p>\n<p>And here’s the new waterfall graph showing the time taken for fonts to load <strong>after</strong> switching to system fonts and implementing a FOFT font loading strategy:</p>\n<p><lazy-image src="/assets/images/dynamic/optimising-fonts/waterfall2.png" alt="Waterfall graph showing two fonts loading after 6 seconds and 8 seconds"></lazy-image></p>\n<p><strong>Wow!</strong> That has made a huge difference to font loading times: the display font used for the headings of my website now loads after 6 seconds, compared to nearly 9 seconds before. These times were recorded whilst throttling the network; when I remove the throttling, there is <strong>no FOUT</strong> at all now I preload the first stage font.</p>\n<p>I’ve had a lot of fun experimenting with different font loading strategies on my website, I hope that you found this blog post useful and it inspires you to think about the fonts you’re using on your website and how you load them. Happy fonting! 👋</p>\n',body:"I'll admit, I visit my own website a lot more than I reasonably should. One of my biggest peeves about my website was the time taken to load the display font --- the titles would initially render in Georgia and after a few seconds there would be a layout shift when my chosen font, Tiempos Headline, finally loaded! I read an excellent article by Zach Leatherman, [Developing a Robust Font Loading Strategy for CSS-Tricks](https://www.zachleat.com/web/css-tricks-web-fonts/), which inspired me to change my font loading strategy and massively reduce initial load times.\n\n## Before Optimising the Fonts\n\nBefore I decided to optimise the fonts on my website, I was loading four web fonts on the home page and up to **seven** web fonts on some other pages! These amounted to a staggering **145kB**:\n\n- Tiempos Headline, 31.3kB\n- Tiempos Headline Bold, 30.2kB\n- IBM Plex Sans, 17.9kB\n- IBM Plex Sans Bold, 18.7kB\n- IBM Plex Sans Italic, 19.5kB\n- IBM Plex Mono, 13.7kB\n- IBM Plex Mono Bold, 14.1kB\n\nOpening up the Network panel in Chrome DevTools showed the time taken to download all four web fonts on the home page. I disabled cache and loaded the page on a throttled Slow 3G network. The waterfall graph below shows the times taken for the fonts to load, over a period of 10 seconds:\n\n![Waterfall graph showing four fonts loading after 8 seconds](/assets/images/dynamic/optimising-fonts/waterfall1.png)\n\nThe fonts were all requested just after 2 seconds, and the last font finished loading more than 6 seconds later. Because of the time taken to load the fonts, the page is initially rendered with fallback fonts, which then causes a layout shift when the web fonts finally load.\n\n<video-compat src=\"optimising-fonts/loading1\" autoplay muted loop></video-compat>\n\n## Font Loading Strategies\n\nBefore we go any further, it's about time we talked about font loading strategies. Font loading strategies dictate when the fonts on your page load, how the fonts load, and what happens whilst the fonts are loading; I find the best way to group font loading strategies is by describing how the font appears **before** the font loads.\n\n### Flash of Invisible Text\n\nFOIT is the default browser behaviour which renders the text invisible whilst the font is loading. The text will be invisible during the _swap period_, up to 3 seconds depending on the browser: this is a particularly poor experience for users as there may be up to 3 seconds when they cannot read the content of your website!\n\n### Flash of Unstyled Text\n\nA FOUT occurs when the browser renders the fallback system font while the web font is loading. By default, the fallback font will render after the 3 second swap period, or if the web font fails to load. FOUT is preferable to FOIT, as users can still read the content whilst the web font is loading; however, care must be taken to minimise the layout shift when the web font does load.\n\n### Flash of Faux Text\n\nFOFT is very similar to FOUT, in that you render text as soon as possible without waiting for the web font to load. However, instead of the browser rendering a fallback system font, the browser renders a \"Roman\" web font. A \"Roman\" web font is a subset of the full web font, which often supports exclusively Western European languages and a reduced set of features. The browser uses _font synthesis_ to render \"faux bold\" and \"faux italic\" text while the full web font continues to load.\n\nZach Leatherman really is the authority on everything web fonts --- I encourage you to read his [Web Font Loading Glossary](https://www.zachleat.com/web/webfont-glossary/) and [Guide to Font Loading Strategies](https://www.zachleat.com/web/comprehensive-webfonts/) for all the different ways of loading fonts!\n\n## Do I Really Need This Many Web Fonts?\n\nRetrospectively, it seems crazy to load seven web fonts on a single page of my website. I encourage you to ask yourself, \"Why am I actually using this web font?\" --- I couldn't come up with any explanation aside from the fact that I like fonts! I wasn't relying on any special ligatures for my code blocks, nor features like tabular numbers.\n\nInstead of browsing Google Fonts for new fonts on my website, I decided instead to take a look at the system fonts already on my device. Obviously the fonts available on each device vary, so here are some great resources I used:\n\n- [CSS Font Stack](https://www.cssfontstack.com/) shows the percentage of Windows and Mac devices which support some common fallback system fonts.\n- [System Font Stack article](https://css-tricks.com/snippets/css/system-font-stack/) on CSS-Tricks which has some good snippets for body font.\n- [Using UI System Fonts](https://www.smashingmagazine.com/2015/11/using-system-ui-fonts-practical-guide/) a longer article on Smashing which explains which fonts target which systems.\n\nIn a surprise move, I decided to use system fonts for **both** the body font and monospace font on my website. Here's the fonts I chose to use:\n\n```css\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica,\n    Arial, sans-serif;\n}\n\ncode {\n  font-family: Monaco, Consolas, 'Lucida Console', monospace;\n}\n```\n\n## Implementing a FOFT Font Loading Strategy\n\nI decided to implement the _flash of faux text_ font loading strategy for the display font on my website, used for headings and buttons. I broke this down into four stages:\n\n1. Picking a font to use\n2. Subsetting the font into two stages\n3. Preloading the first stage font\n4. Loading the second stage font as soon as possible\n\n### Picking a Font\n\nThe number of fonts in [Google Fonts](https://fonts.google.com/) is increasing every day and is becoming the go-to for all web fonts. I was really excited that [Inter](https://rsms.me/inter/) had made its way to Google Fonts, where I expect it will make its way to being one of the most popular web fonts. But I wanted a fancy display font, something similar to Tiempos Headline which I was using previously.\n\nI settled on DM Serif Text by Colophon Foundry and Frank Grießhammer. There is also a higher contrast DM Serif Display, but I much preferred the thicker strokes of DM Serif Text on the relatively small headings on my website. Both fonts are licensed under the Open Font License, which importantly **allows for modification**.\n\n![Details of DM Serif Text after uploading the font to Wakamai Fondue](/assets/images/dynamic/optimising-fonts/wakamaifondue.png)\n\nI'd like to quickly draw your attention to a fabulous tool I discovered, which answers the question, \"What can my font do?\" Possibly the best-named website ever, [Wakamai Fondue](https://wakamaifondue.com/) provides a drag-and-drop interface for discovering what your font can do --- I dropped DM Serif Text onto Wakamai Fondue to find out which features it supported and how many characters it contained. This wasn't necessary but provided some nice context to the font sunsetting which was coming next!\n\n### Subsetting a Font\n\nFirst of all, download the font you want from Google Fonts (or wherever), all you need is the `.ttf` file. In order to subset the font, I used `pyftsubset` from [fonttools](https://github.com/fonttools/fonttools). It's straightforward to install if you have `pip` already, simply run\n\n```sh\npip install fonttools\n```\n\n#### First Stage Font\n\nYou want your first stage font to be as small as possible, so the FOIT or FOUT before your font loads is unnoticeable; that means removing all the characters you don't need as well as the extra features of the font.\n\nOne decision you need to make is whether to remove the kerning from the font file. On one hand, removing the kerning will reduce the size of the font considerably. On the other hand, removing the kerning will cause a layout shift when the full font finally loads. I chose to remove the kerning from my first stage font, so I subsetted DM Serif Text using the following command:\n\n```sh\npyftsubset \"DMSerifText-Regular.ttf\" --output-file=\"DMSerifText-Regular-Roman.woff2\" --flavor=woff2 --layout-features=ccmp,locl,mark,mkmk --no-hinting --desubroutinize --unicodes=U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD\n```\n\nNotice we retain the required layout features `ccmp,locl,mark,mkmk` which we could see in Wakamai Fondue. If you wanted to include kerning in your first stage font, you'll want to change the layout features to `ccmp,locl,mark,mkmk,kern`.\n\nThe unicodes specify which characters we want to keep in our first stage font file. Google Fonts seems to use a sensible default for their \"Latin\" fonts, so I stuck with that. If you want to have more control over which unicodes you include, [glyphhanger](https://github.com/filamentgroup/glyphhanger) seems like a great tool which can actually analyse your website to see which unicode ranges are used.\n\nSubsetting my new display font brought my first stage fonts down to **only 12.0kB** in size! That's a reduction of a whopping **133kB** on some pages, compared to the seven web fonts I was previously loading.\n\n<post-aside type=\"info\">\n\nRemember to generate your fonts in WOFF format as well as WOFF 2 for [the best browser support](https://caniuse.com/#feat=woff). Just specify `--flavor=woff` and make sure your `output-file` has a `.woff` extension.\n\n</post-aside>\n\n#### Second Stage Font\n\nYour second stage font should include all the niceties that were omitted from your first stage font, like kerning, hinting and ligatures. Here's the command I used to generate the second stage font for DM Serif Text:\n\n```sh\npyftsubset \"DMSerifText-Regular.ttf\" --output-file=\"DMSerifText-Regular-Latin-Ext.woff2\" --flavor=woff2 --layout-features=\"*\" --unicodes=U+0-10FFFF\n```\n\nThis second stage font includes all the available features and the full unicode range supported by the font.\n\n### Preloading the First Stage Font\n\nWe need to load the first stage font as soon as possible in order to minimise the FOUT (or even worse, FOIT) which would usually occur when loading a web font. Using `preload`, now with [86.63% of browser support](https://caniuse.com/#feat=link-rel-preload) at the time of writing, will ensure that the browser requests the resource as soon as it can.\n\n```html\n<link\n  rel=\"preload\"\n  href=\"DMSerifText-Regular-Latin.woff2\"\n  as=\"font\"\n  type=\"font/woff2\"\n  crossorigin\n/>\n```\n\nYou can preload more than one first stage font if necessary, but keep in mind the more you choose to preload, the worse it will affect First Render times or FOUT which we are trying to avoid.\n\nAfter you've told the browser to preload the font, you can just use a normal `@font-face` rule in your CSS. Put this inline in your `<head>` to make sure that your font is used as soon as it has been preloaded!\n\n```css\n@font-face {\n  font-display: swap;\n  font-family: 'DM Serif Text';\n  font-weight: 400;\n  src: local('DM Serif Text Regular'), local('DMSerifText-Regular'),\n    url('DMSerifText-Regular-Latin.woff2') format('woff2'), url('DMSerifText-Regular-Latin.woff')\n      format('woff');\n}\n```\n\n### Loading the Second Stage Fonts with JavaScript\n\nWe want to load the second stage fonts as soon as possible with JavaScript to minimise the delay before the layout shift will occur. I put this JavaScript in the `<head>` of my page:\n\n```js\nif ('fonts' in document) {\n  const font = new FontFace(\n    'DM Serif Text',\n    \"url('DMSerifText-Regular-Latin-Ext.woff2') format('woff2'), url('DMSerifText-Regular-Latin-Ext.woff') format('woff')\"\n  )\n\n  font.load().then(function (font) {\n    document.fonts.add(font)\n  })\n}\n```\n\nBrowser support for the [CSS Font Loading API](https://caniuse.com/#feat=font-loading) is pretty good but notably doesn't include Internet Explorer --- however, it's worth noting that our first stage font will still load in Internet Explorer, it will just be missing extras like kerning. If you do want to support Internet Explorer completely, you can just dump the second stage `@font-face` declarations into the document head, Zach explains how to do this [in his article](https://www.zachleat.com/web/css-tricks-web-fonts/).\n\n## After Optimising the Fonts\n\nChanging the font loading strategy on my website **massively** reduced the time for the fonts to load and improved first render times, as I was loading fewer resources. Here's the waterfall graph we saw earlier, showing the time taken to load fonts **before** optimising:\n\n![Waterfall graph showing four fonts loading after 8 seconds](/assets/images/dynamic/optimising-fonts/waterfall1.png)\n\nAnd here's the new waterfall graph showing the time taken for fonts to load **after** switching to system fonts and implementing a FOFT font loading strategy:\n\n![Waterfall graph showing two fonts loading after 6 seconds and 8 seconds](/assets/images/dynamic/optimising-fonts/waterfall2.png)\n\n**Wow!** That has made a huge difference to font loading times: the display font used for the headings of my website now loads after 6 seconds, compared to nearly 9 seconds before. These times were recorded whilst throttling the network; when I remove the throttling, there is **no FOUT** at all now I preload the first stage font.\n\nI've had a lot of fun experimenting with different font loading strategies on my website, I hope that you found this blog post useful and it inspires you to think about the fonts you're using on your website and how you load them. Happy fonting! 👋\n",vue:{render:'return function render() { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{staticClass:"markdown"},[_vm._m(0),_vm._m(1),_vm._v(" "),_vm._m(2),_vm._v(" "),_vm._m(3),_vm._v(" "),_vm._m(4),_vm._v(" "),_c(\'p\',[_vm._v("Opening up the Network panel in Chrome DevTools showed the time taken to download all four web fonts on the home page. I disabled cache and loaded the page on a throttled Slow 3G network. The waterfall graph below shows the times taken for the fonts to load, over a period of 10 seconds:")]),_vm._v(" "),_c(\'p\',[_c(\'lazy-image\',{attrs:{"src":"/assets/images/dynamic/optimising-fonts/waterfall1.png","alt":"Waterfall graph showing four fonts loading after 8 seconds"}})],1),_vm._v(" "),_c(\'p\',[_vm._v("The fonts were all requested just after 2 seconds, and the last font finished loading more than 6 seconds later. Because of the time taken to load the fonts, the page is initially rendered with fallback fonts, which then causes a layout shift when the web fonts finally load.")]),_vm._v(" "),_c(\'p\',[_c(\'video-compat\',{attrs:{"src":"optimising-fonts/loading1","autoplay":"","muted":"","loop":""}})],1),_vm._v(" "),_vm._m(5),_vm._v(" "),_vm._m(6),_vm._v(" "),_vm._m(7),_vm._v(" "),_vm._m(8),_vm._v(" "),_vm._m(9),_vm._v(" "),_c(\'p\',[_vm._v("A FOUT occurs when the browser renders the fallback system font while the web font is loading. By default, the fallback font will render after the 3 second swap period, or if the web font fails to load. FOUT is preferable to FOIT, as users can still read the content whilst the web font is loading; however, care must be taken to minimise the layout shift when the web font does load.")]),_vm._v(" "),_vm._m(10),_vm._v(" "),_vm._m(11),_vm._v(" "),_vm._m(12),_vm._v(" "),_vm._m(13),_vm._v(" "),_c(\'p\',[_vm._v("Retrospectively, it seems crazy to load seven web fonts on a single page of my website. I encourage you to ask yourself, “Why am I actually using this web font?” — I couldn’t come up with any explanation aside from the fact that I like fonts! I wasn’t relying on any special ligatures for my code blocks, nor features like tabular numbers.")]),_vm._v(" "),_c(\'p\',[_vm._v("Instead of browsing Google Fonts for new fonts on my website, I decided instead to take a look at the system fonts already on my device. Obviously the fonts available on each device vary, so here are some great resources I used:")]),_vm._v(" "),_vm._m(14),_vm._v(" "),_vm._m(15),_vm._v(" "),_vm._m(16),_vm._v(" "),_vm._m(17),_vm._v(" "),_vm._m(18),_vm._v(" "),_vm._m(19),_vm._v(" "),_vm._m(20),_vm._v(" "),_vm._m(21),_vm._v(" "),_vm._m(22),_vm._v(" "),_c(\'p\',[_c(\'lazy-image\',{attrs:{"src":"/assets/images/dynamic/optimising-fonts/wakamaifondue.png","alt":"Details of DM Serif Text after uploading the font to Wakamai Fondue"}})],1),_vm._v(" "),_vm._m(23),_vm._v(" "),_vm._m(24),_vm._v(" "),_vm._m(25),_vm._v(" "),_vm._m(26),_vm._v(" "),_vm._m(27),_vm._v(" "),_c(\'p\',[_vm._v("You want your first stage font to be as small as possible, so the FOIT or FOUT before your font loads is unnoticeable; that means removing all the characters you don’t need as well as the extra features of the font.")]),_vm._v(" "),_c(\'p\',[_vm._v("One decision you need to make is whether to remove the kerning from the font file. On one hand, removing the kerning will reduce the size of the font considerably. On the other hand, removing the kerning will cause a layout shift when the full font finally loads. I chose to remove the kerning from my first stage font, so I subsetted DM Serif Text using the following command:")]),_vm._v(" "),_vm._m(28),_vm._v(" "),_vm._m(29),_vm._v(" "),_vm._m(30),_vm._v(" "),_vm._m(31),_vm._v(" "),_c(\'post-aside\',{attrs:{"type":"info"}},[_c(\'p\',[_vm._v("Remember to generate your fonts in WOFF format as well as WOFF 2 for "),_c(\'a\',{attrs:{"href":"https://caniuse.com/#feat=woff"}},[_vm._v("the best browser support")]),_vm._v(". Just specify "),_c(\'code\',{pre:true},[_vm._v("--flavor=woff")]),_vm._v(" and make sure your "),_c(\'code\',{pre:true},[_vm._v("output-file")]),_vm._v(" has a "),_c(\'code\',{pre:true},[_vm._v(".woff")]),_vm._v(" extension.")])]),_vm._v(" "),_vm._m(32),_vm._v(" "),_c(\'p\',[_vm._v("Your second stage font should include all the niceties that were omitted from your first stage font, like kerning, hinting and ligatures. Here’s the command I used to generate the second stage font for DM Serif Text:")]),_vm._v(" "),_vm._m(33),_vm._v(" "),_c(\'p\',[_vm._v("This second stage font includes all the available features and the full unicode range supported by the font.")]),_vm._v(" "),_vm._m(34),_vm._v(" "),_vm._m(35),_vm._v(" "),_vm._m(36),_vm._v(" "),_c(\'p\',[_vm._v("You can preload more than one first stage font if necessary, but keep in mind the more you choose to preload, the worse it will affect First Render times or FOUT which we are trying to avoid.")]),_vm._v(" "),_vm._m(37),_vm._v(" "),_vm._m(38),_vm._v(" "),_vm._m(39),_vm._v(" "),_vm._m(40),_vm._v(" "),_vm._m(41),_vm._v(" "),_vm._m(42),_vm._v(" "),_vm._m(43),_vm._v(" "),_vm._m(44),_vm._v(" "),_c(\'p\',[_c(\'lazy-image\',{attrs:{"src":"/assets/images/dynamic/optimising-fonts/waterfall1.png","alt":"Waterfall graph showing four fonts loading after 8 seconds"}})],1),_vm._v(" "),_vm._m(45),_vm._v(" "),_c(\'p\',[_c(\'lazy-image\',{attrs:{"src":"/assets/images/dynamic/optimising-fonts/waterfall2.png","alt":"Waterfall graph showing two fonts loading after 6 seconds and 8 seconds"}})],1),_vm._v(" "),_vm._m(46),_vm._v(" "),_c(\'p\',[_vm._v("I’ve had a lot of fun experimenting with different font loading strategies on my website, I hope that you found this blog post useful and it inspires you to think about the fonts you’re using on your website and how you load them. Happy fonting! 👋")])],1) }',staticRenderFns:'return [function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'nav\',{staticClass:"table-of-contents"},[_c(\'ol\',[_c(\'li\',[_c(\'a\',{attrs:{"href":"#before-optimising-the-fonts"}},[_vm._v("Before Optimising the Fonts")])]),_c(\'li\',[_c(\'a\',{attrs:{"href":"#font-loading-strategies"}},[_vm._v("Font Loading Strategies")]),_c(\'ol\',[_c(\'li\',[_c(\'a\',{attrs:{"href":"#flash-of-invisible-text"}},[_vm._v("Flash of Invisible Text")])]),_c(\'li\',[_c(\'a\',{attrs:{"href":"#flash-of-unstyled-text"}},[_vm._v("Flash of Unstyled Text")])]),_c(\'li\',[_c(\'a\',{attrs:{"href":"#flash-of-faux-text"}},[_vm._v("Flash of Faux Text")])])])]),_c(\'li\',[_c(\'a\',{attrs:{"href":"#do-i-really-need-this-many-web-fonts%3F"}},[_vm._v("Do I Really Need This Many Web Fonts?")])]),_c(\'li\',[_c(\'a\',{attrs:{"href":"#implementing-a-foft-font-loading-strategy"}},[_vm._v("Implementing a FOFT Font Loading Strategy")]),_c(\'ol\',[_c(\'li\',[_c(\'a\',{attrs:{"href":"#picking-a-font"}},[_vm._v("Picking a Font")])]),_c(\'li\',[_c(\'a\',{attrs:{"href":"#subsetting-a-font"}},[_vm._v("Subsetting a Font")]),_c(\'ol\')]),_c(\'li\',[_c(\'a\',{attrs:{"href":"#preloading-the-first-stage-font"}},[_vm._v("Preloading the First Stage Font")])]),_c(\'li\',[_c(\'a\',{attrs:{"href":"#loading-the-second-stage-fonts-with-javascript"}},[_vm._v("Loading the Second Stage Fonts with JavaScript")])])])]),_c(\'li\',[_c(\'a\',{attrs:{"href":"#after-optimising-the-fonts"}},[_vm._v("After Optimising the Fonts")])])])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("I’ll admit, I visit my own website a lot more than I reasonably should. One of my biggest peeves about my website was the time taken to load the display font — the titles would initially render in Georgia and after a few seconds there would be a layout shift when my chosen font, Tiempos Headline, finally loaded! I read an excellent article by Zach Leatherman, "),_c(\'a\',{attrs:{"href":"https://www.zachleat.com/web/css-tricks-web-fonts/"}},[_vm._v("Developing a Robust Font Loading Strategy for CSS-Tricks")]),_vm._v(", which inspired me to change my font loading strategy and massively reduce initial load times.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'h2\',{attrs:{"id":"before-optimising-the-fonts","tabindex":"-1"}},[_c(\'a\',{staticClass:"header-anchor",attrs:{"href":"#before-optimising-the-fonts"}},[_vm._v("Before Optimising the Fonts")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Before I decided to optimise the fonts on my website, I was loading four web fonts on the home page and up to "),_c(\'strong\',[_vm._v("seven")]),_vm._v(" web fonts on some other pages! These amounted to a staggering "),_c(\'strong\',[_vm._v("145kB")]),_vm._v(":")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'ul\',[_c(\'li\',[_vm._v("Tiempos Headline, 31.3kB")]),_vm._v(" "),_c(\'li\',[_vm._v("Tiempos Headline Bold, 30.2kB")]),_vm._v(" "),_c(\'li\',[_vm._v("IBM Plex Sans, 17.9kB")]),_vm._v(" "),_c(\'li\',[_vm._v("IBM Plex Sans Bold, 18.7kB")]),_vm._v(" "),_c(\'li\',[_vm._v("IBM Plex Sans Italic, 19.5kB")]),_vm._v(" "),_c(\'li\',[_vm._v("IBM Plex Mono, 13.7kB")]),_vm._v(" "),_c(\'li\',[_vm._v("IBM Plex Mono Bold, 14.1kB")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'h2\',{attrs:{"id":"font-loading-strategies","tabindex":"-1"}},[_c(\'a\',{staticClass:"header-anchor",attrs:{"href":"#font-loading-strategies"}},[_vm._v("Font Loading Strategies")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Before we go any further, it’s about time we talked about font loading strategies. Font loading strategies dictate when the fonts on your page load, how the fonts load, and what happens whilst the fonts are loading; I find the best way to group font loading strategies is by describing how the font appears "),_c(\'strong\',[_vm._v("before")]),_vm._v(" the font loads.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'h3\',{attrs:{"id":"flash-of-invisible-text","tabindex":"-1"}},[_c(\'a\',{staticClass:"header-anchor",attrs:{"href":"#flash-of-invisible-text"}},[_vm._v("Flash of Invisible Text")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("FOIT is the default browser behaviour which renders the text invisible whilst the font is loading. The text will be invisible during the "),_c(\'em\',[_vm._v("swap period")]),_vm._v(", up to 3 seconds depending on the browser: this is a particularly poor experience for users as there may be up to 3 seconds when they cannot read the content of your website!")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'h3\',{attrs:{"id":"flash-of-unstyled-text","tabindex":"-1"}},[_c(\'a\',{staticClass:"header-anchor",attrs:{"href":"#flash-of-unstyled-text"}},[_vm._v("Flash of Unstyled Text")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'h3\',{attrs:{"id":"flash-of-faux-text","tabindex":"-1"}},[_c(\'a\',{staticClass:"header-anchor",attrs:{"href":"#flash-of-faux-text"}},[_vm._v("Flash of Faux Text")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("FOFT is very similar to FOUT, in that you render text as soon as possible without waiting for the web font to load. However, instead of the browser rendering a fallback system font, the browser renders a “Roman” web font. A “Roman” web font is a subset of the full web font, which often supports exclusively Western European languages and a reduced set of features. The browser uses "),_c(\'em\',[_vm._v("font synthesis")]),_vm._v(" to render “faux bold” and “faux italic” text while the full web font continues to load.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Zach Leatherman really is the authority on everything web fonts — I encourage you to read his "),_c(\'a\',{attrs:{"href":"https://www.zachleat.com/web/webfont-glossary/"}},[_vm._v("Web Font Loading Glossary")]),_vm._v(" and "),_c(\'a\',{attrs:{"href":"https://www.zachleat.com/web/comprehensive-webfonts/"}},[_vm._v("Guide to Font Loading Strategies")]),_vm._v(" for all the different ways of loading fonts!")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'h2\',{attrs:{"id":"do-i-really-need-this-many-web-fonts%3F","tabindex":"-1"}},[_c(\'a\',{staticClass:"header-anchor",attrs:{"href":"#do-i-really-need-this-many-web-fonts%3F"}},[_vm._v("Do I Really Need This Many Web Fonts?")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'ul\',[_c(\'li\',[_c(\'a\',{attrs:{"href":"https://www.cssfontstack.com/"}},[_vm._v("CSS Font Stack")]),_vm._v(" shows the percentage of Windows and Mac devices which support some common fallback system fonts.")]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"https://css-tricks.com/snippets/css/system-font-stack/"}},[_vm._v("System Font Stack article")]),_vm._v(" on CSS-Tricks which has some good snippets for body font.")]),_vm._v(" "),_c(\'li\',[_c(\'a\',{attrs:{"href":"https://www.smashingmagazine.com/2015/11/using-system-ui-fonts-practical-guide/"}},[_vm._v("Using UI System Fonts")]),_vm._v(" a longer article on Smashing which explains which fonts target which systems.")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("In a surprise move, I decided to use system fonts for "),_c(\'strong\',[_vm._v("both")]),_vm._v(" the body font and monospace font on my website. Here’s the fonts I chose to use:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',{staticClass:"highlight",attrs:{"data-language":"css"}},[_c(\'code\',{pre:true},[_c(\'span\',{pre:true,attrs:{"class":"highlight__lines"}},[_c(\'span\',{pre:true,attrs:{"data-number":" 1"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 2"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 3"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 4"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 5"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 6"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 7"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 8"}})]),_c(\'span\',{pre:true,attrs:{"class":"highlight__code"}},[_c(\'span\',{pre:true,attrs:{"class":"highlight__selector-tag"}},[_vm._v("body")]),_vm._v(" {\\n  "),_c(\'span\',{pre:true,attrs:{"class":"highlight__attribute"}},[_vm._v("font-family")]),_vm._v(": -apple-system, BlinkMacSystemFont, "),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\'Segoe UI\'")]),_vm._v(", Roboto, Helvetica,\\n    Arial, sans-serif;\\n}\\n\\n"),_c(\'span\',{pre:true,attrs:{"class":"highlight__selector-tag"}},[_vm._v("code")]),_vm._v(" {\\n  "),_c(\'span\',{pre:true,attrs:{"class":"highlight__attribute"}},[_vm._v("font-family")]),_vm._v(": Monaco, Consolas, "),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\'Lucida Console\'")]),_vm._v(", monospace;\\n}\\n")])])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'h2\',{attrs:{"id":"implementing-a-foft-font-loading-strategy","tabindex":"-1"}},[_c(\'a\',{staticClass:"header-anchor",attrs:{"href":"#implementing-a-foft-font-loading-strategy"}},[_vm._v("Implementing a FOFT Font Loading Strategy")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("I decided to implement the "),_c(\'em\',[_vm._v("flash of faux text")]),_vm._v(" font loading strategy for the display font on my website, used for headings and buttons. I broke this down into four stages:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'ol\',[_c(\'li\',[_vm._v("Picking a font to use")]),_vm._v(" "),_c(\'li\',[_vm._v("Subsetting the font into two stages")]),_vm._v(" "),_c(\'li\',[_vm._v("Preloading the first stage font")]),_vm._v(" "),_c(\'li\',[_vm._v("Loading the second stage font as soon as possible")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'h3\',{attrs:{"id":"picking-a-font","tabindex":"-1"}},[_c(\'a\',{staticClass:"header-anchor",attrs:{"href":"#picking-a-font"}},[_vm._v("Picking a Font")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("The number of fonts in "),_c(\'a\',{attrs:{"href":"https://fonts.google.com/"}},[_vm._v("Google Fonts")]),_vm._v(" is increasing every day and is becoming the go-to for all web fonts. I was really excited that "),_c(\'a\',{attrs:{"href":"https://rsms.me/inter/"}},[_vm._v("Inter")]),_vm._v(" had made its way to Google Fonts, where I expect it will make its way to being one of the most popular web fonts. But I wanted a fancy display font, something similar to Tiempos Headline which I was using previously.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("I settled on DM Serif Text by Colophon Foundry and Frank Grießhammer. There is also a higher contrast DM Serif Display, but I much preferred the thicker strokes of DM Serif Text on the relatively small headings on my website. Both fonts are licensed under the Open Font License, which importantly "),_c(\'strong\',[_vm._v("allows for modification")]),_vm._v(".")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("I’d like to quickly draw your attention to a fabulous tool I discovered, which answers the question, “What can my font do?” Possibly the best-named website ever, "),_c(\'a\',{attrs:{"href":"https://wakamaifondue.com/"}},[_vm._v("Wakamai Fondue")]),_vm._v(" provides a drag-and-drop interface for discovering what your font can do — I dropped DM Serif Text onto Wakamai Fondue to find out which features it supported and how many characters it contained. This wasn’t necessary but provided some nice context to the font sunsetting which was coming next!")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'h3\',{attrs:{"id":"subsetting-a-font","tabindex":"-1"}},[_c(\'a\',{staticClass:"header-anchor",attrs:{"href":"#subsetting-a-font"}},[_vm._v("Subsetting a Font")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("First of all, download the font you want from Google Fonts (or wherever), all you need is the "),_c(\'code\',{pre:true},[_vm._v(".ttf")]),_vm._v(" file. In order to subset the font, I used "),_c(\'code\',{pre:true},[_vm._v("pyftsubset")]),_vm._v(" from "),_c(\'a\',{attrs:{"href":"https://github.com/fonttools/fonttools"}},[_vm._v("fonttools")]),_vm._v(". It’s straightforward to install if you have "),_c(\'code\',{pre:true},[_vm._v("pip")]),_vm._v(" already, simply run")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',{staticClass:"highlight",attrs:{"data-language":"sh"}},[_c(\'code\',{pre:true},[_c(\'span\',{pre:true,attrs:{"class":"highlight__lines"}},[_c(\'span\',{pre:true,attrs:{"data-number":" 1"}})]),_c(\'span\',{pre:true,attrs:{"class":"highlight__code"}},[_vm._v("pip install fonttools\\n")])])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'h4\',{attrs:{"id":"first-stage-font","tabindex":"-1"}},[_c(\'a\',{staticClass:"header-anchor",attrs:{"href":"#first-stage-font"}},[_vm._v("First Stage Font")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',{staticClass:"highlight",attrs:{"data-language":"sh"}},[_c(\'code\',{pre:true},[_c(\'span\',{pre:true,attrs:{"class":"highlight__lines"}},[_c(\'span\',{pre:true,attrs:{"data-number":" 1"}})]),_c(\'span\',{pre:true,attrs:{"class":"highlight__code"}},[_vm._v("pyftsubset "),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\\"DMSerifText-Regular.ttf\\"")]),_vm._v(" --output-file="),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\\"DMSerifText-Regular-Roman.woff2\\"")]),_vm._v(" --flavor=woff2 --layout-features=ccmp,locl,mark,mkmk --no-hinting --desubroutinize --unicodes=U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD\\n")])])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Notice we retain the required layout features "),_c(\'code\',{pre:true},[_vm._v("ccmp,locl,mark,mkmk")]),_vm._v(" which we could see in Wakamai Fondue. If you wanted to include kerning in your first stage font, you’ll want to change the layout features to "),_c(\'code\',{pre:true},[_vm._v("ccmp,locl,mark,mkmk,kern")]),_vm._v(".")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("The unicodes specify which characters we want to keep in our first stage font file. Google Fonts seems to use a sensible default for their “Latin” fonts, so I stuck with that. If you want to have more control over which unicodes you include, "),_c(\'a\',{attrs:{"href":"https://github.com/filamentgroup/glyphhanger"}},[_vm._v("glyphhanger")]),_vm._v(" seems like a great tool which can actually analyse your website to see which unicode ranges are used.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Subsetting my new display font brought my first stage fonts down to "),_c(\'strong\',[_vm._v("only 12.0kB")]),_vm._v(" in size! That’s a reduction of a whopping "),_c(\'strong\',[_vm._v("133kB")]),_vm._v(" on some pages, compared to the seven web fonts I was previously loading.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'h4\',{attrs:{"id":"second-stage-font","tabindex":"-1"}},[_c(\'a\',{staticClass:"header-anchor",attrs:{"href":"#second-stage-font"}},[_vm._v("Second Stage Font")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',{staticClass:"highlight",attrs:{"data-language":"sh"}},[_c(\'code\',{pre:true},[_c(\'span\',{pre:true,attrs:{"class":"highlight__lines"}},[_c(\'span\',{pre:true,attrs:{"data-number":" 1"}})]),_c(\'span\',{pre:true,attrs:{"class":"highlight__code"}},[_vm._v("pyftsubset "),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\\"DMSerifText-Regular.ttf\\"")]),_vm._v(" --output-file="),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\\"DMSerifText-Regular-Latin-Ext.woff2\\"")]),_vm._v(" --flavor=woff2 --layout-features="),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\\"*\\"")]),_vm._v(" --unicodes=U+0-10FFFF\\n")])])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'h3\',{attrs:{"id":"preloading-the-first-stage-font","tabindex":"-1"}},[_c(\'a\',{staticClass:"header-anchor",attrs:{"href":"#preloading-the-first-stage-font"}},[_vm._v("Preloading the First Stage Font")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("We need to load the first stage font as soon as possible in order to minimise the FOUT (or even worse, FOIT) which would usually occur when loading a web font. Using "),_c(\'code\',{pre:true},[_vm._v("preload")]),_vm._v(", now with "),_c(\'a\',{attrs:{"href":"https://caniuse.com/#feat=link-rel-preload"}},[_vm._v("86.63% of browser support")]),_vm._v(" at the time of writing, will ensure that the browser requests the resource as soon as it can.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',{staticClass:"highlight",attrs:{"data-language":"html"}},[_c(\'code\',{pre:true},[_c(\'span\',{pre:true,attrs:{"class":"highlight__lines"}},[_c(\'span\',{pre:true,attrs:{"data-number":" 1"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 2"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 3"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 4"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 5"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 6"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 7"}})]),_c(\'span\',{pre:true,attrs:{"class":"highlight__code"}},[_c(\'span\',{pre:true,attrs:{"class":"highlight__tag"}},[_vm._v("<"),_c(\'span\',{pre:true,attrs:{"class":"highlight__name"}},[_vm._v("link")]),_vm._v("\\n  "),_c(\'span\',{pre:true,attrs:{"class":"highlight__attr"}},[_vm._v("rel")]),_vm._v("="),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\\"preload\\"")]),_vm._v("\\n  "),_c(\'span\',{pre:true,attrs:{"class":"highlight__attr"}},[_vm._v("href")]),_vm._v("="),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\\"DMSerifText-Regular-Latin.woff2\\"")]),_vm._v("\\n  "),_c(\'span\',{pre:true,attrs:{"class":"highlight__attr"}},[_vm._v("as")]),_vm._v("="),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\\"font\\"")]),_vm._v("\\n  "),_c(\'span\',{pre:true,attrs:{"class":"highlight__attr"}},[_vm._v("type")]),_vm._v("="),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\\"font/woff2\\"")]),_vm._v("\\n  "),_c(\'span\',{pre:true,attrs:{"class":"highlight__attr"}},[_vm._v("crossorigin")]),_vm._v("\\n/>")]),_vm._v("\\n")])])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("After you’ve told the browser to preload the font, you can just use a normal "),_c(\'code\',{pre:true},[_vm._v("@font-face")]),_vm._v(" rule in your CSS. Put this inline in your "),_c(\'code\',{pre:true},[_vm._v("<head>")]),_vm._v(" to make sure that your font is used as soon as it has been preloaded!")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',{staticClass:"highlight",attrs:{"data-language":"css"}},[_c(\'code\',{pre:true},[_c(\'span\',{pre:true,attrs:{"class":"highlight__lines"}},[_c(\'span\',{pre:true,attrs:{"data-number":" 1"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 2"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 3"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 4"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 5"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 6"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 7"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 8"}})]),_c(\'span\',{pre:true,attrs:{"class":"highlight__code"}},[_c(\'span\',{pre:true,attrs:{"class":"highlight__keyword"}},[_vm._v("@font-face")]),_vm._v(" {\\n  "),_c(\'span\',{pre:true,attrs:{"class":"highlight__attribute"}},[_vm._v("font-display")]),_vm._v(": swap;\\n  "),_c(\'span\',{pre:true,attrs:{"class":"highlight__attribute"}},[_vm._v("font-family")]),_vm._v(": "),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\'DM Serif Text\'")]),_vm._v(";\\n  "),_c(\'span\',{pre:true,attrs:{"class":"highlight__attribute"}},[_vm._v("font-weight")]),_vm._v(": "),_c(\'span\',{pre:true,attrs:{"class":"highlight__number"}},[_vm._v("400")]),_vm._v(";\\n  "),_c(\'span\',{pre:true,attrs:{"class":"highlight__attribute"}},[_vm._v("src")]),_vm._v(": "),_c(\'span\',{pre:true,attrs:{"class":"highlight__built_in"}},[_vm._v("local")]),_vm._v("("),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\'DM Serif Text Regular\'")]),_vm._v("), "),_c(\'span\',{pre:true,attrs:{"class":"highlight__built_in"}},[_vm._v("local")]),_vm._v("("),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\'DMSerifText-Regular\'")]),_vm._v("),\\n    "),_c(\'span\',{pre:true,attrs:{"class":"highlight__built_in"}},[_vm._v("url")]),_vm._v("("),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\'DMSerifText-Regular-Latin.woff2\'")]),_vm._v(") "),_c(\'span\',{pre:true,attrs:{"class":"highlight__built_in"}},[_vm._v("format")]),_vm._v("("),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\'woff2\'")]),_vm._v("), "),_c(\'span\',{pre:true,attrs:{"class":"highlight__built_in"}},[_vm._v("url")]),_vm._v("("),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\'DMSerifText-Regular-Latin.woff\'")]),_vm._v(")\\n      "),_c(\'span\',{pre:true,attrs:{"class":"highlight__built_in"}},[_vm._v("format")]),_vm._v("("),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\'woff\'")]),_vm._v(");\\n}\\n")])])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'h3\',{attrs:{"id":"loading-the-second-stage-fonts-with-javascript","tabindex":"-1"}},[_c(\'a\',{staticClass:"header-anchor",attrs:{"href":"#loading-the-second-stage-fonts-with-javascript"}},[_vm._v("Loading the Second Stage Fonts with JavaScript")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("We want to load the second stage fonts as soon as possible with JavaScript to minimise the delay before the layout shift will occur. I put this JavaScript in the "),_c(\'code\',{pre:true},[_vm._v("<head>")]),_vm._v(" of my page:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',{staticClass:"highlight",attrs:{"data-language":"js"}},[_c(\'code\',{pre:true},[_c(\'span\',{pre:true,attrs:{"class":"highlight__lines"}},[_c(\'span\',{pre:true,attrs:{"data-number":" 1"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 2"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 3"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 4"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 5"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 6"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 7"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 8"}}),_c(\'span\',{pre:true,attrs:{"data-number":" 9"}}),_c(\'span\',{pre:true,attrs:{"data-number":"10"}})]),_c(\'span\',{pre:true,attrs:{"class":"highlight__code"}},[_c(\'span\',{pre:true,attrs:{"class":"highlight__keyword"}},[_vm._v("if")]),_vm._v(" ("),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\'fonts\'")]),_vm._v(" "),_c(\'span\',{pre:true,attrs:{"class":"highlight__keyword"}},[_vm._v("in")]),_vm._v(" "),_c(\'span\',{pre:true,attrs:{"class":"highlight__variable language_"}},[_vm._v("document")]),_vm._v(") {\\n  "),_c(\'span\',{pre:true,attrs:{"class":"highlight__keyword"}},[_vm._v("const")]),_vm._v(" font = "),_c(\'span\',{pre:true,attrs:{"class":"highlight__keyword"}},[_vm._v("new")]),_vm._v(" "),_c(\'span\',{pre:true,attrs:{"class":"highlight__title class_"}},[_vm._v("FontFace")]),_vm._v("(\\n    "),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\'DM Serif Text\'")]),_vm._v(",\\n    "),_c(\'span\',{pre:true,attrs:{"class":"highlight__string"}},[_vm._v("\\"url(\'DMSerifText-Regular-Latin-Ext.woff2\') format(\'woff2\'), url(\'DMSerifText-Regular-Latin-Ext.woff\') format(\'woff\')\\"")]),_vm._v("\\n  )\\n\\n  font."),_c(\'span\',{pre:true,attrs:{"class":"highlight__title function_"}},[_vm._v("load")]),_vm._v("()."),_c(\'span\',{pre:true,attrs:{"class":"highlight__title function_"}},[_vm._v("then")]),_vm._v("("),_c(\'span\',{pre:true,attrs:{"class":"highlight__keyword"}},[_vm._v("function")]),_vm._v(" ("),_c(\'span\',{pre:true,attrs:{"class":"highlight__params"}},[_vm._v("font")]),_vm._v(") {\\n    "),_c(\'span\',{pre:true,attrs:{"class":"highlight__variable language_"}},[_vm._v("document")]),_vm._v("."),_c(\'span\',{pre:true,attrs:{"class":"highlight__property"}},[_vm._v("fonts")]),_vm._v("."),_c(\'span\',{pre:true,attrs:{"class":"highlight__title function_"}},[_vm._v("add")]),_vm._v("(font)\\n  })\\n}\\n")])])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Browser support for the "),_c(\'a\',{attrs:{"href":"https://caniuse.com/#feat=font-loading"}},[_vm._v("CSS Font Loading API")]),_vm._v(" is pretty good but notably doesn’t include Internet Explorer — however, it’s worth noting that our first stage font will still load in Internet Explorer, it will just be missing extras like kerning. If you do want to support Internet Explorer completely, you can just dump the second stage "),_c(\'code\',{pre:true},[_vm._v("@font-face")]),_vm._v(" declarations into the document head, Zach explains how to do this "),_c(\'a\',{attrs:{"href":"https://www.zachleat.com/web/css-tricks-web-fonts/"}},[_vm._v("in his article")]),_vm._v(".")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'h2\',{attrs:{"id":"after-optimising-the-fonts","tabindex":"-1"}},[_c(\'a\',{staticClass:"header-anchor",attrs:{"href":"#after-optimising-the-fonts"}},[_vm._v("After Optimising the Fonts")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Changing the font loading strategy on my website "),_c(\'strong\',[_vm._v("massively")]),_vm._v(" reduced the time for the fonts to load and improved first render times, as I was loading fewer resources. Here’s the waterfall graph we saw earlier, showing the time taken to load fonts "),_c(\'strong\',[_vm._v("before")]),_vm._v(" optimising:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("And here’s the new waterfall graph showing the time taken for fonts to load "),_c(\'strong\',[_vm._v("after")]),_vm._v(" switching to system fonts and implementing a FOFT font loading strategy:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'strong\',[_vm._v("Wow!")]),_vm._v(" That has made a huge difference to font loading times: the display font used for the headings of my website now loads after 6 seconds, compared to nearly 9 seconds before. These times were recorded whilst throttling the network; when I remove the throttling, there is "),_c(\'strong\',[_vm._v("no FOUT")]),_vm._v(" at all now I preload the first stage font.")]) }]'}}}}]);